<style>
    .constrained {
        height: 900px;
        overflow-y: scroll;
    }

    button {
        display: inline-block;
        margin-right: 3px;
        margin-top: 3px
    }
</style>

<form role="form" name="topicForm" ng-submit="submitTopicForm()">
<div class="col-sm-9 col-sm-offset-3 col-lg-10 col-lg-offset-2 main constrained">

    <div class="row">

        <div ng-if="!myDropDown && !addTopicStatus" class="col-md-12 widget-left alert alert-danger" role="alert">
            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
            <span class="sr-only">Error:</span> Wählen Sie ein Thema aus
            <br>oder legen Sie ein neues Thema an:
        </div>

        <div class="col-md-8 panel panel-blue panel-widget">

            <div class="col-md-6">
                <h2>{{myDropDown}}</h2>
            </div>
            <div class="col-md-6 widget-right">

                <button ng-if="myDropDown" type="button" class="btn btn-default">
                    <span class="glyphicon glyphicon-ok-circle"></span>
                </button>

                <a href="" ng-click="editTopic()">
                    <button ng-if="myDropDown" type="button" class="btn btn-default">
                        <span class="glyphicon glyphicon-edit" aria-hidden="true"></span> Bearbeiten
                    </button>
                </a>

            </div>
        </div>

        <div class="row no-padding">
            <div class="panel panel-blue panel-widget">
                <div class="col-md-2 widget-right">

                    <div class="dropdown">

                        <select name="pickTopic" id="pickTopic" ng-change="selectAction()" ng-model="myDropDown" class="form-control">

                            <option ng-repeat="i in usertopictitles track by $index" value="{{i}}">{{i}}</option>

                        </select>
                    </div>

                </div>
                <div class="col-md-2 widget-left ">
                    <a href="" ng-click="addTopic()">
                        <svg class="glyph stroked plus sign " style="color:white">
                            <use xlink:href="#stroked-plus-sign" />
                        </svg>
                    </a>

                </div>
            </div>
        </div>
    </div>

    <div class="row">

        <div class="col-lg-12" ng-show="addTopicStatus || editTopicStatus">
            <div class="panel panel-default">
                <div class="panel-heading" ng-if="addTopicStatus">Neues Thema anlegen</div>
                <div class="panel-heading" ng-if="editTopicStatus">Thema bearbeiten</div>
                <div class="panel-body">

                    <div class="col-md-6">

                        <!-- Form New Topic/Edit Topic Title/Collab/Activeness begins -->


                            <div class="form-group">
                                <label ng-if="addTopicStatus">Titel eingeben</label>
                                <label ng-if="editTopicStatus">Titel ändern</label>
                                <input ng-pattern="/^[a-zA-Z\s]*$/" class="form-control" name="newTopicTitle" ng-model="newTopicTitle" placeholder="{{myDropDown}}">
                                <p class="alert alert-danger" ng-show="topicForm.newTopicTitle.$error.pattern"> <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span> Titel dürfen nur Buchstaben enthalten.</p>

                                <div class="col-md-6">

                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" ng-model="checkboxStatus.active">Thema aktivieren / deaktivieren
                                        </label>
                                    </div>
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" ng-model="checkboxStatus.collab">Kollaboration aktivieren / deaktivieren
                                        </label>
                                    </div>

                                </div>

                            </div>

                    </div>

                </div>
                <!-- /.row -->

            </div>
        </div>
    </div>

        <div class="row">

        <div class="col-lg-12" ng-if="addTopicStatus || editTopicStatus">
            <div class="panel panel-default">
                <div class="panel-heading" ng-if="addTopicStatus || editTopicStatus">Suchanfragen</div>
                <div class="panel-body">

                    <button ng-repeat="item in queryObjects track by $index" ng-click="" type="button" class="btn btn-md btn-primary btn-rounded">
                        <span class="glyphicon glyphicon-search" aria-hidden="true"></span> {{item.QUERY.term}}</button>

                </div>
            </div>
        </div>
    </div>

    <div class="row">

        <div class="col-lg-12" ng-show="addTopicStatus || editTopicStatus">
            <div class="panel panel-default">
                <div class="panel-heading" ng-if="addTopicStatus || editTopicStatus">Suchanfrage hinzufügen</div>
                <div class="panel-body">

                    <input ng-pattern="/^[a-zA-Z\s]*$/" name="newQuery" ng-model="newQuery" style="width:180px;max-width:180px;display:inline-block" type="text" class="form-control" id="newQuery">

                    <p class="alert alert-danger" ng-show="topicForm.newQuery.$error.pattern"> <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>Suchanfragen dürfen keine Sonderzeichen enthalten.</p>
<br><br>
                    <button type="submit" class="btn btn-default">Speichern</button>
                </div>

                        <!-- Form New Topic/Edit Topic Title/Collab/Activeness ends -->

            </div>
        </div>
    </div>

    <div class="row" ng-if="documentCollection.length">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-heading">Trendradar</div>
                <div class="panel-body">
                    <div class="canvas-wrapper">
                        <canvas class="main-chart" id="line-chart" height="200" width="600"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row" ng-show="documentCollection.length">
        <div class="col-lg-12">

            <div class="panel panel-default">
                <div class="panel-heading">Latest News</div>
                <div class="panel-body">
                    <div class="col-lg-10"></div>

                    <label class="checkbox-inline"><span class="glyphicon glyphicon-star" style="color: red" aria-hidden="true"></span>
                        <input type="checkbox" id="mycheckbox" name="mycheckbox" ng-model="myCheckbox" data-ng-change="myCheckbox ? filterBookmarks() : showAll()" />
                        <small>markierte Dokumente filtern</small></label>

                    <table class="table table-hover" infinite-scroll="increaseLimit()" infinite-scroll-container='".constrained"'>
                        <thead>
                            <tr>
                                <th style="width: 80%">Title</th>
                                <th style="width: 20%">Datum</th>
                            </tr>
                        </thead>
                        <tbody>
                            <p ng-show="documentCollection.empty">Hier gibt es nichts zu sehen.</p>
                            <!--limitTo:barLimit track by $index  -->
                            <tr ng-repeat="item in documentCollection | limitTo:barLimit | unique: 'item._id.$oid'" ng-click="selectDocument(item)">
                                <td>{{item.title}}</td>
                                <td>{{item.date}}</td>
                            </tr>
                        </tbody>
                    </table>

                </div>
            </div>

        </div>

    </div>



</div>
</form>